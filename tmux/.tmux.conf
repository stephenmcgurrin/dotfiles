##################################
#   | |_ _ __ ___  _   ___  __   #
#   | __| '_ ` _ \| | | \ \/ /   #
#   | |_| | | | | | |_| |>  <    #
#    \__|_| |_| |_|\__,_/_/\_\   #
##################################

# --- Core Settings ---

# Enable mouse support
set -g mouse on

# disabling focus events so as not to get [0[I[0[I in claude
set -g focus-events off

# Run fastfetch when a new tmux session is created
set-hook -g session-created 'run-shell "fastfetch"'

# Reload config quickly
bind r source-file ~/.tmux.conf \; display-message "tmux.conf reloaded"

# Change prefix from Ctrl+b to Ctrl+a
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# --- Splits and Pane Navigation ---

# Split panes
unbind '"'
unbind %
bind ] split-window -h
bind - split-window -v
bind '"' split-window -v
bind % split-window -h

# Navigate panes (vim-style)
bind -r h select-pane -L
bind -r j select-pane -D
bind -r k select-pane -U
bind -r l select-pane -R

# Resize panes quickly
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Jump to last window
bind -r ^ last-window

# --- Terminal and Display ---

# Enable true colour and proper terminfo
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",*:Tc"

# Better usability defaults
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on
set -g aggressive-resize on
set -g focus-events on
set -g history-limit 100000

# --- Add on for the tmx tool I made ---
# Lets you type `:tmx` in the tmux command prompt
# Prefix + p opens fzf in a popup; closes when you select.
bind-key -T prefix P display-popup -E -w 80% -h 80% -T "tmx" "$HOME/bin/tmx"

# --- Plugins ---

# Plugin manager
set -g @plugin 'tmux-plugins/tpm'

# Session manager
#set -g @plugin 'omerxx/tmux-sessionx'

# Dracula theme (handles all statusline and colours)
set -g @plugin 'dracula/tmux'

# Optional browser integration (uncomment if you actually use it)
# set -g @plugin 'ofirgall/tmux-browser'
# set -g @browser "open"  # macOS
# set -g @browser "xdg-open"  # Linux

#statsu bare set to top of screen
set -g status-position top

# --- Dracula Configuration ---

set -g @dracula-show-powerline true
set -g @dracula-fixed-location "Sligo, Ireland"
set -g @dracula-show-fahrenheit false
set -g @dracula-show-flags true
set -g @dracula-show-left-icon "#h | #S | #W"
#set -g @dracula-cpu-display-load true
# set -g @dracula-gpu-vram-percent true


# addtional settings for plugins and status
set -g @dracula-show-right-status true
set -g @dracula-plugins "weather ram-usage time date" #cpu-usage
set -g @dracula-ram-usage-percent true

# 24-hour time and custom date layout
set -g @dracula-military-time true
set -g @dracula-time-format "%a %d/%m %H:%M"
set -g @dracula-show-timezone false




set -g @dracula-attached-clients-colors "Rosewater green"
set -g @dracula-battery-colors "pink dark_gray"
set -g @dracula-continuum-colors "cyan dark_gray"
set -g @dracula-cpu-usage-colors "orange dark_gray"
set -g @dracula-custom-plugin-colors "cyan dark_gray"
set -g @dracula-cwd-colors "dark_gray white"
set -g @dracula-fossil-colors "green dark_gray"
set -g @dracula-git-colors "green dark_gray"
set -g @dracula-gpu-power-draw-colors "green dark_gray"
set -g @dracula-gpu-ram-usage-colors "cyan dark_gray"
set -g @dracula-gpu-usage-colors "pink dark_gray"
set -g @dracula-hg-colors "green dark_gray"
set -g @dracula-kubernetes-context-colors "cyan dark_gray"
set -g @dracula-libre-colors "white dark_gray"
set -g @dracula-mpc-colors "green dark_gray"
set -g @dracula-network-bandwidth-colors "cyan dark_gray"
set -g @dracula-network-colors "cyan dark_gray"
set -g @dracula-network-ping-colors "cyan dark_gray"
set -g @dracula-network-vpn-colors "cyan dark_gray"
set -g @dracula-playerctl-colors "green dark_gray"
set -g @dracula-ram-usage-colors "Mauve dark_gray"
set -g @dracula-spotify-tui-colors "green dark_gray"
set -g @dracula-ssh-session-colors "Peach Peach"
set -g @dracula-synchronize-panes-colors "cyan dark_gray"
set -g @dracula-terraform-colors "light_purple dark_gray"
set -g @dracula-time-colors "dark_purple Maroon"
set -g @dracula-tmux-ram-usage-colors "cyan dark_gray"
set -g @dracula-weather-colors "Lavender dark_gray"


#set -g @dracula-colors "
#Rosewater='#f5e0dc'
#Flamingo='#f2cdcd'
#Pink='#f5c2e7'
#Mauve='#cba6f7'
#Red='#f38ba8'
#Maroon='#eba0ac'
#Peach='#fab387'
#Yellow='#f9e2af'
#Green='#a6e3a1'
#Teal='#94e2d5'
#Sky='#89dceb'
#Sapphire='#74c7ec'
#Blue='#89b4fa'
#Lavender='#b4befe'
#Text='#cdd6f4'
#Subtext1='#bac2de'
#Subtext0='#a6adc8'
#Overlay2='#9399b2'
#Overlay1='#7f849c'
#Overlay0='#6c7086'
#Surface2='#585b70'
#Surface1='#45475a'
#Surface0='#313244'
#Base='#1e1e2e'
#Mantle='#181825'
#Crust='#11111b'
#"

set -g @dracula-colors "
# Name: frappe
Rosewater='#f2d5cf'
Flamingo='#eebebe'
Pink='#f4b8e4'
Mauve='#ca9ee6'
Red='#e78284'
Maroon='#ea999c'
Peach='#ef9f76'
Yellow='#e5c890'
Green='#a6d189'
Teal='#81c8be'
Sky='#99d1db'
Sapphire='#85c1dc'
Blue='#8caaee'
Lavender='#babbf1'
Text='#c6d0f5'
Subtext1='#b5bfe2'
Subtext0='#a5adce'
Overlay2='#949cbb'
Overlay1='#838ba7'
Overlay0='#737994'
Surface2='#626880'
Surface1='#51576d'
Surface0='#414559'
Base='#303446'
Mantle='#292c3c'
Crust='#232634'
"

# Name: Macchiatto
#Rosewater='#f4dbd6'
#Flamingo='#f0c6c6'
#Pink='#f5bde6'
#Mauve='#c6a0f6'
#Red='#ed8796'
#Maroon='#ee99a0'
#Peach='#f5a97f'
#Yellow='#eed49f'
#Green='#a6da95'
#Teal='#8bd5ca'
#Sky='#91d7e3'
#Sapphire='#7dc4e4'
#Blue='#8aadf4'
#Lavender='#b7bdf8'
#Text='#cad3f5'
#Subtext1='#b8c0e0'
#Subtext0='#a5adcb'
#Overlay2='#939ab7'
#Overlay1='#8087a2'
#Overlay0='#6e738d'
#Surface2='#5b6078'
#Surface1='#494d64'
#Surface0='#363a4f'
#Base='#24273a'
#Mantle='#1e2030'
#Crust='#181926'

# Name: mocha
#Rosewater='#f5e0dc'
#Flamingo='#f2cdcd'
#Pink='#f5c2e7'
#Mauve='#cba6f7'
#Red='#f38ba8'
#Maroon='#eba0ac'
#Peach='#fab387'
#Yellow='#f9e2af'
#Green='#a6e3a1'
#Teal='#94e2d5'
#Sky='#89dceb'
#Sapphire='#74c7ec'
#Blue='#89b4fa'
#Lavender='#b4befe'
#Text='#cdd6f4'
#Subtext1='#bac2de'
#Subtext0='#a6adc8'
#Overlay2='#9399b2'
#Overlay1='#7f849c'
#Overlay0='#6c7086'
#Surface2='#585b70'
#Surface1='#45475a'
#Surface0='#313244'
#Base='#1e1e2e'
#Mantle='#181825'
#Crust='#11111b'

# --- Initialise TPM (keep at bottom) ---
run '~/.tmux/plugins/tpm/tpm'
